import{mlCodes}from"./mlcodes.js";import{MLstrings}from"./mlstrings.js";let mlrLangInUse;export const mlr=function({dropID:e="mbPOCControlsLangDrop",stringAttribute:n="data-mlr-text",chosenLang:t="English",mLstrings:r=MLstrings,countryCodes:o=!0,countryCodeData:s=mlCodes||[]}){const l=document.documentElement,a=Object.values(r)[0],c=Object.keys(a);mlrLangInUse=t,function(){var r=document.getElementById(e);r.innerHTML="",c.forEach(e=>{let n=document.createElement("option");n.value=e,n.textContent=e,r.appendChild(n),e===t&&(r.value=e)});r.addEventListener("change",()=>{if(mlrLangInUse=r[r.selectedIndex].value,document.querySelectorAll(`[${n}]`).forEach(e=>{const n=resolveMLStringId(e.id,MLstrings);e.innerHTML=n}),!0===o){if(!Array.isArray(s)||!s.length)return void console.warn("Cannot access strings for language codes");l.setAttribute("lang",s.find(function(e){return e.name===mlrLangInUse}).code)}})}()};function resolveMLStringId(e,n){return n[e][mlrLangInUse]||""}